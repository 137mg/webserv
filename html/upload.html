<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Webserv</title>
	<link rel="icon" type="image/x-icon" href="/html/images/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link href="/html/css/stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

	<div class ="navigation-bar">
		<a href="/">Home</a>
		<a href="/upload.html">Upload</a>
		<a href="/cgi-bin/showUploads.py">Files</a>
		<a href="/tests.html">Tests</a>
	</div>

	<div class ="block form-block">
		<form enctype = "multipart/form-data" class="form" action="/cgi-bin/upload.py" method="post" onsubmit="return validateForm()">
			<h2>Upload a file</h2>
			<input type="file" value="" class="form-item file-input" id="filename" name="filename"><br>
			<input type="submit" value="Submit" class="form-item submit-btn">
		</form>
	</div>
	
	<script>
		function validateForm() {
			var fileInput = document.getElementById('filename');
			var files = fileInput.files;
			for (var i = 0; i < files.length; i++) {
				if (files[i].type === '') {
					alert('Error: Directories cannot be uploaded. Please select a file.');
					return false;
				}
			}
			return true;
		}
	</script>
	
</body>
</html>