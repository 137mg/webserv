<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Webserv</title>
	<link rel="icon" type="image/x-icon" href="/html/images/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link href="/html/css/stylesheet.css" rel="stylesheet" type="text/css">
</head>
	<body>
		<button id="open-folder">Open Folder</button>
		<ul id="file-list"></ul>
	
		<script>
			document.getElementById('open-folder').addEventListener('click', async () => {
				// Check for support
				if (!window.showDirectoryPicker) {
					alert('File System Access API not supported in this browser.');
					return;
				}
	
				try {
					// Open a directory picker
					const dirHandle = await window.showDirectoryPicker();
	
					const fileList = document.getElementById('file-list');
					fileList.innerHTML = ''; // Clear the list
	
					// Iterate through the files in the directory
					for await (const [name, handle] of dirHandle) {
						if (handle.kind === 'file') {
							const listItem = document.createElement('li');
							listItem.textContent = name;
							fileList.appendChild(listItem);
						}
					}
				} catch (err) {
					console.error(err);
				}
			});
		</script>
	</body>

	<div class ="block form-block files-block">
		<h2>Uploaded files</h2>
		<ul>